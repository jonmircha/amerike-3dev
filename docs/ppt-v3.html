<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Piedra ğŸª¨, Papel ğŸ“„ o Tijeras âœ‚ï¸</title>
    <style>
      body {
        min-height: 100vh;
        font-family: sans-serif;
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #74c8fc;
        color: navy;
      }

      #btn-play {
        font-size: 200%;
        color: inherit;
      }
    </style>
  </head>
  <body>
    <main>
      <h1>Piedra ğŸª¨, Papel ğŸ“„ o Tijeras âœ‚ï¸</h1>
      <button id="btn-play">ğŸ® Jugar ğŸ®</button>
    </main>
    <script>
      function playPPT() {
        /*
              alert("hola"); -> Mensaje + Aceptar
              confirm("hola"); -> Mensaje + Aceptar + Cancelar
              prompt("hola"); -> Mensaje + Aceptar + Cancelar + Input */
        function random(min, max) {
          return Math.floor(Math.random() * (max - min + 1) + min);
        }

        function selectChoice(gamer, choice) {
          let result = "";
          choice = parseInt(choice);

          if (gamer === "ğŸ¤“") {
            result = "El jugador ğŸ¤“ elige";
          } else if (gamer === "ğŸ¤–") {
            result = "La mÃ¡quina ğŸ¤– elige";
          } else {
            result = "Jugador no vÃ¡lido ğŸ˜¬";
          }

          if (choice === 1) {
            result += " Piedra ğŸª¨";
          } else if (choice === 2) {
            result += " Papel ğŸ“„";
          } else if (choice === 3) {
            result += " Tijeras âœ‚ï¸";
          } else {
            result += " OpciÃ³n no vÃ¡lida ğŸ˜¬";
          }

          return result;
        }

        function fight(player, machine) {
          player = parseInt(player);

          if (player === machine) {
            alert("EMPATE ğŸ¤“ğŸ¤œğŸ»ğŸ’¥ğŸ¤›ğŸ»ğŸ¤–");
            score.ties++;
          } else if (player === 1 && machine === 3) {
            alert("GANASTE ğŸ¤“ğŸ¤œğŸ»ğŸ’¥ğŸ¤–");
            score.wins++;
          } else if (player === 2 && machine === 1) {
            alert("GANASTE ğŸ¤“ğŸ¤œğŸ»ğŸ’¥ğŸ¤–");
            score.wins++;
          } else if (player === 3 && machine === 2) {
            alert("GANASTE ğŸ¤“ğŸ¤œğŸ»ğŸ’¥ğŸ¤–");
            score.wins++;
          } else {
            alert("PERDISTE ğŸ˜µğŸ’¥ğŸ¤›ğŸ»ğŸ¤–");
            score.losses++;
          }
        }

        //objeto en JS
        let score = {
          wins: 0,
          losses: 0,
          ties: 0,
        };

        let games = prompt("Â¿CuÃ¡ntas partidas quieres jugar ğŸ•¹ï¸ğŸ®?");
        games = parseInt(games);

        if (games <= 0 || isNaN(games)) {
          alert("Por favor, introduce un nÃºmero vÃ¡lido de partidas ğŸ¤¨.");
          return;
        } else {
          for (let i = 0; i < games; i++) {
            let message = `
              Partida ${i + 1} de ${games}.
              Elige:
                1 - Piedra ğŸª¨
                2 - Papel ğŸ“„
                3 - Tijeras âœ‚ï¸
            `;
            let player = prompt(message);
            let machine = random(1, 3);

            alert(selectChoice("ğŸ¤“", player));
            alert(selectChoice("ğŸ¤–", machine));
            fight(player, machine);
          }

          /* let scoreMessage = `
            ğŸ˜€ Ganaste: ${score.wins} veces.
            ğŸ˜© Perdiste: ${score.losses} veces.
            ğŸ˜ Empataste: ${score.ties} veces.
          `; */

          let scoreMessage = `
            ğŸ˜€ Ganaste: ${
              score.wins === 1 ? `${score.wins} vez` : `${score.wins} veces`
            }.
            ğŸ˜© Perdiste: ${
              score.losses === 1
                ? `${score.losses} vez`
                : `${score.losses} veces`
            }.
            ğŸ˜ Empataste: ${
              score.ties === 1 ? `${score.ties} vez` : `${score.ties} veces`
            }.
          `;
          alert(scoreMessage);
        }
      }

      let btnPlay = document.querySelector("#btn-play");
      //Evento: objeto.addEventListener("evento", funcion);
      btnPlay.addEventListener("click", playPPT);
    </script>
  </body>
</html>
